<!DOCTYPE html>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, user-scalable=no">
<link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,700italic,400,300,700" rel="stylesheet">
<link href="https://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
<link rel="stylesheet" href="/vendor/makerstrap.min.css">
<title>Webmaker Archiver</title>
<a href="https://github.com/toolness/webmaker-archiver"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/365986a132ccd6a44c23a9169022c0b5c890c387/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f7265645f6161303030302e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png"></a>
<div class="container">
  <h1>Webmaker Archiver</h1>
  <p>Just give us the name of a <a href="https://webmaker.org/">Webmaker</a> user and we'll give you a ZIP archive of all their Thimble makes.</p>
  <form class="form" id="form">
    <div class="form-group">
      <input type="text" class="form-control" placeholder="username" id="username">
    </div>
    <button type="submit" class="btn btn-primary"><i class="fa fa-download"></i> Download ZIP</button>
  </form>
</div>
<script>
var form = document.getElementById('form');

form.addEventListener('submit', function(e) {
  e.preventDefault();
  var username = document.getElementById('username').value;
  if (!/^[A-Za-z0-9_\-]+$/.test(username))
    return alert("Invalid username.");
  window.location = '/user/' + username + '.zip';
});
</script>
